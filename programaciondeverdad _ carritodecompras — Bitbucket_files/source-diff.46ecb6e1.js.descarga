!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,r,o){Object.defineProperty(e,t,{get:r,set:o,enumerable:!0,configurable:!0})}var r=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3;r.register("ecrxs",(function(o,n){t(o.exports,"default",(function(){return C}));var a=r("fPPqr"),i=r("9nHZC"),s=r("dV1BF"),l=r("agjvf"),c=r("a8g5d"),u=r("3jRWn"),d=r("hUJfB"),p=r("jaH3V"),f=r("7VP0m"),h=r("kZnTB"),g=r("74AUy"),m=r("laHDh"),y=r("5O2Cy"),b=r("7kLuJ");class C extends e(i).Component{renderDescription(){const{repository:t,repositoryAccessLevel:r}=this.props;if(!t)return null;if(t.description)return e(i).createElement(b.RepositoryDescription,null,t.description);if(!r||"admin"!==r)return null;const[o,n]=t.full_name.split("/");return e(i).createElement(b.RepositoryDescription,null,e(i).createElement(l.FormattedMessage,e(a)({},y.default.repositoryDescriptionPlaceholder,{values:{addRepositoryDescriptionLink:e(i).createElement("a",{href:h.default.ui.admin(o,n)},e(i).createElement(l.FormattedMessage,y.default.addRepositoryDescriptionLink))}})))}renderTitle(){const{path:t}=this.props;if(t&&t.length){const r=`/${t}`.replace(/\//g," / ");return e(i).createElement(s.default,{defer:!1,title:r})}return null}render(){const{header:t,path:r,pathType:o,repository:n,repositoryAccessLevel:a,userUuid:s,isUpToSmallBreakpointActive:l}=this.props;return e(i).createElement(b.Page,null,this.renderTitle(),e(i).createElement(g.default,{path:r,pathType:o}),e(i).createElement(c.default,{layout:"fluid",spacing:l?"cosy":"comfortable"},e(i).createElement(u.default,null,!r&&e(i).createElement(p.default,null),n&&n.size&&e(i).createElement(f.default,{size:n.size,repositoryAccessLevel:a,userUuid:s,repositoryUuid:n.uuid}),this.renderDescription(),t&&e(i).createElement(i.Fragment,null,e(i).createElement(b.SelectorsHeader,null,t)),this.props.children)),e(i).createElement(d.default,null,e(i).createElement(m.default,{path:this.props.path})))}}})),r.register("jaH3V",(function(o,n){t(o.exports,"default",(function(){return d}));var a=r("9nHZC"),i=r("dGzLf"),s=r("aanBq"),l=r("g2R3c"),c=r("f1B5o");class u extends a.PureComponent{render(){const{principalId:t,repository:r}=this.props;if(!t||!r)return null;const[o,n]=r.full_name.split("/");return e(a).createElement(c.SourceViewWebpanels,{principalId:t,repositoryOwner:o,repositorySlug:n})}}var d=(0,i.connect)((e=>({principalId:(0,l.getTargetUserKey)(e),repository:(0,s.getCurrentRepository)(e)})))(u)})),r.register("f1B5o",(function(o,n){t(o.exports,"SourceViewWebpanels",(function(){return p}));var a=r("fPPqr"),i=r("9nHZC"),s=r("6x4M3"),l=r("2q8vl"),c=r("bVIhs"),u=r("jOyQ7"),d=r("9kkxk");class p extends i.PureComponent{render(){const{principalId:t,repositoryOwner:r,repositorySlug:o}=this.props,n=(0,c.repositoryTarget)({repositoryOwner:r,repositorySlug:o});return e(i).createElement(e(i).Fragment,null,e(i).createElement(s.ConnectIframes,{moduleType:"webPanels",principalId:t,target:n,location:"org.bitbucket.repository.overview.informationPanel",height:`${d.webPanelHeight}`,width:`${d.webPanelWidth}`,options:{autoresize:!0},loadingComponent:()=>null,loadingFailedComponent:()=>null},(t=>t.length>0&&e(i).createElement(i.Fragment,null,t.map((({Component:t,module:r})=>e(i).createElement(d.SourceWebPanel,{key:r.id,"data-qa":"connect-sourceview-webpanel"},e(i).createElement(t,{loadingComponent:()=>e(i).createElement(u.default,{module:r,delay:l.LOADING_MODULE_DELAY}),loadingTimeoutComponent:t=>e(i).createElement(u.default,e(a)({action:"timeout"},t,{module:r})),loadingFailedComponent:()=>e(i).createElement(u.default,{action:"failed",module:r})}))))))),e(i).createElement(s.ConnectModules,{principalId:t,moduleType:"generalPages",target:n}))}}})),r.register("7VP0m",(function(o,n){t(o.exports,"default",(function(){return y}));var a=r("fPPqr"),i=r("9nHZC"),s=r("4cToo"),l=r("agjvf"),c=r("dGzLf"),u=r("e188l"),d=r("bv0Ws"),p=r("jajUg"),f=r("aanBq"),h=r("h3kk7"),g=r("kZnTB"),m=r("7I8rF");var y=({size:t=0,repositoryAccessLevel:r,userUuid:o,repositoryUuid:n})=>{const y=`large-message-dismissed::${o}::${n}`,[b,C]=(0,i.useState)(!h.default.get(y)),v=(0,p.useIntl)(),E=(0,c.useSelector)(f.getSizeLimits),x=e(s)(E.soft,{unitSeparator:" "}),M=e(s)(E.hard,{unitSeparator:" "});return t>=E.hard?e(i).createElement(u.default,{appearance:"error",title:v.formatMessage(m.default.hardLimitHeadingLarge),actions:[e(i).createElement(d.default,{key:"more"},e(i).createElement("a",{href:g.default.external.reduceRepositorySize,target:"_blank"},e(i).createElement(l.FormattedMessage,m.default.softLimitLearnMoreLink)))]},"admin"===r?e(i).createElement(l.FormattedMessage,e(a)({},m.default.hardLimitDescriptionAdmin,{values:{hardLimit:M}})):e(i).createElement(l.FormattedMessage,e(a)({},m.default.hardLimitDescription,{values:{hardLimit:M}}))):t>=E.soft&&"admin"===r&&b?e(i).createElement(u.default,{appearance:"warning",title:v.formatMessage(m.default.softLimitHeading),actions:[e(i).createElement(d.default,{key:"more"},e(i).createElement("a",{href:g.default.external.reduceRepositorySize,target:"_blank"},e(i).createElement(l.FormattedMessage,m.default.softLimitLearnMoreLink))),e(i).createElement(d.default,{key:"",onClick:()=>{C(!1),h.default.set(y,!0)}},e(i).createElement(l.FormattedMessage,m.default.dismiss))]},e(i).createElement(l.FormattedMessage,e(a)({},m.default.softLimitDescriptionAdmin,{values:{softLimit:x,hardLimit:M}}))):null}})),r.register("74AUy",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("dGzLf"),a=r("ilJwJ"),i=r("8MnfV"),s=r("aanBq"),l=r("g2R3c"),c=r("eHBmV");var u=(0,a.withRouter)((0,n.connect)((e=>{const{atRef:t,hash:r,ref:o}=e.repository.source.section,n=(0,s.getCurrentRepository)(e);return{currentRef:t||o,hash:r,isBannerOpen:(0,i.getIsSiteMessageActive)(e),repository:n,repositoryAccessLevel:e.repository.details.accessLevel,userIsAnonymous:(0,l.getCurrentUserIsAnonymous)(e),forkPolicy:null==n?void 0:n.fork_policy}}))(c.default))})),r.register("eHBmV",(function(o,n){t(o.exports,"default",(function(){return T}));var a=r("9nHZC"),i=r("cJH1T"),s=r("agjvf"),l=r("hwElN"),c=r("EKmRU"),u=r("5WD8l"),d=r("c83ir"),p=r("kb4D4"),f=r("90pdu"),h=r("9ZSW0"),g=r("3hzea");r("3QCmf");var m=r("5wjHx"),y=r("c1V73"),b=r("8zKG4"),C=r("kmgRQ"),v=r("55F46"),E=r("4eta7"),x=r("5PFIQ"),M=r("kZnTB"),k=r("635SY"),w=r("6aoKW"),S=r("k2cPS"),L=r("6RDSR"),F=r("dULUA"),D=r("8n03k"),R=r("9DkbD"),j=r("eYUJk");class P extends e(a).Component{constructor(...e){super(...e),this.state={isDownloadRepoModalOpen:!1,openedExtension:void 0},this.onOpenSubscriptionsDialog=()=>{const{pathname:e}=this.props.location;this.props.history.push(`${e}?subscriptionsModalOpened=true`)},this.onCloseSubscriptionsDialog=()=>{const{pathname:e}=this.props.location;this.props.history.push(e)},this.closeDownloadRepoModal=()=>{this.setState({isDownloadRepoModalOpen:!1})},this.openDownloadRepoModal=()=>{this.setState({isDownloadRepoModalOpen:!0})},this.publishHeaderAnalyticEvent=(e,t)=>{(0,w.publishFact)(new(0,x.SourceHeaderActionClickedFact)({label:e,repository_uuid:t,frontbucket_view:!0}))},this.getCreateFilePath=(e,t)=>e?"directory"===t?e&&`${e}/`:e&&e.substr(0,e.lastIndexOf("/")+1):null,this.shareRepo=e=>{const{repository:t}=this.props;t&&(this.publishHeaderAnalyticEvent(e,(0,g.uncurlyUuid)(t.uuid)),window.location.href=k.default.ui.permissions(t.full_name))},this.onDownloadRepoAction=async e=>{(0,w.publishUiEvent)({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"downloadRepository"}});try{const t=await fetch((0,S.default)(k.default.api.internal.repositoryMetadataURL(e.full_name))),{has_lfs_files:r}=await t.json();r?this.openDownloadRepoModal():this.downloadRepo()}catch(e){this.downloadRepo()}},this.downloadRepo=()=>{var e;const{repository:t,currentRef:r}=this.props;if(!t||!r)return"";window.location.href=k.default.api.v20.downloadRepo(t.full_name,null===(e=r.target)||void 0===e?void 0:e.hash)},this.onAppClick=e=>this.setState({openedExtension:e}),this.onAppClose=()=>this.setState({openedExtension:void 0})}componentDidMount(){(0,y.preloadLoadableDropdownAppList)()}renderActions(){const{currentRef:t,hash:r,intl:o,path:n,pathType:i,repository:f,forkPolicy:h,repositoryAccessLevel:C,userIsAnonymous:v}=this.props;if(!f||!r)return;const[E,x]=f.full_name.split("/"),S=()=>e(a).createElement("div",{style:{textAlign:"left"}},e(a).createElement(u.default,{"aria-label":o.formatMessage(j.default.actionsMenu),position:"bottom right",triggerType:"button",testId:"repo-actions-menu",triggerButtonProps:{iconBefore:e(a).createElement(e(p),{label:o.formatMessage(j.default.actionsMenu),size:"medium"})}},e(a).createElement(L.default,{requiredLevel:"read"},("allow_forks"===h||"no_public_forks"===h)&&e(a).createElement(d.default,{"data-testid":"repo-menu-create-fork",href:M.default.ui.fork(E,x)},e(a).createElement(s.FormattedMessage,j.default.forkRepoAction)),e(a).createElement(d.default,{href:M.default.ui.compare(E,x),onClick:()=>{(0,w.publishUiEvent)({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"compareBranchesDropdownItem",source:"repositorySourceScreen"})}},e(a).createElement(s.FormattedMessage,j.default.compareRepoAction))),e(a).createElement(L.default,{requiredLevel:"write"},e(a).createElement(d.default,{href:k.default.ui.createFile(f.full_name,{refOrHash:r,path:this.getCreateFilePath(n,i),at:t?t.name:void 0}),onClick:()=>{this.publishHeaderAnalyticEvent("new_file",(0,g.uncurlyUuid)(f.uuid))}},e(a).createElement(s.FormattedMessage,j.default.newFileAction))),e(a).createElement(d.default,{onClick:()=>{(0,w.publishUiEvent)({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"sourceHeaderDropdownItem",source:"repositorySourceScreen",attributes:{item:"manageNotifications"}}),this.onOpenSubscriptionsDialog()}},e(a).createElement(s.FormattedMessage,j.default.manageNotifications)),e(a).createElement(d.default,{onClick:()=>this.onDownloadRepoAction(f)},e(a).createElement(s.FormattedMessage,j.default.downloadRepoAction)),e(a).createElement(y.LazyForgeRepoCodeOverviewActionAppsList,{onAppClick:this.onAppClick})),e(a).createElement(b.LazyForgeRepoCodeOverviewActionSingleApp,{onAppClose:this.onAppClose,openedExtension:this.state.openedExtension}));return e(a).createElement(l.default,null,n&&"file"===i&&e(a).createElement(m.default,null),"admin"===C&&e(a).createElement(c.default,{onClick:()=>this.shareRepo("invite")},e(a).createElement(s.FormattedMessage,j.default.inviteAction)),n?e(a).createElement(D.default,{onClick:()=>{this.publishHeaderAnalyticEvent("checkout",(0,g.uncurlyUuid)(f.uuid))}}):e(a).createElement(R.default,null),!v&&e(a).createElement(S,null))}render(){const{isDownloadRepoModalOpen:t}=this.state,{path:r,repository:o,userIsAnonymous:n,location:l}=this.props,c=e(i).parse(l.search,{ignoreQueryPrefix:!0}),u=r&&r.split("/").pop()||o&&o.name||e(a).createElement(s.FormattedMessage,j.default.heading);return e(a).createElement(C.PageHeaderWrapper,{layout:"fluid","data-qa":"page-header-wrapper"},e(a).createElement(C.PageHeaderColumn,null,e(a).createElement(h.default,{actions:this.renderActions(),breadcrumbs:e(a).createElement(F.default,{isRoot:!r})},e(a).createElement(v.default,{isOpen:t,onClose:this.closeDownloadRepoModal,onDownload:()=>{this.downloadRepo(),this.closeDownloadRepoModal()}}),e(a).createElement(f.default,null,!n&&c.subscriptionsModalOpened&&e(a).createElement(E.default,{onCloseSubscriptionsDialog:this.onCloseSubscriptionsDialog})),u)))}}var T=(0,s.injectIntl)(P)})),r.register("3QCmf",(function(e,o){t(e.exports,"DEFAULT_EDITOR_KEY",(function(){return r("eqdil").DEFAULT_EDITOR_KEY})),t(e.exports,"ConnectFileViewer",(function(){return r("a2PLh").default})),t(e.exports,"ConnectFileActions",(function(){return r("5wjHx").default})),t(e.exports,"ConnectFileEditor",(function(){return r("2ck3X").default})),t(e.exports,"ConnectFileModuleMenu",(function(){return r("bJh0A").default}));r("eqdil"),r("a2PLh"),r("5wjHx"),r("2ck3X"),r("bJh0A")})),r.register("eqdil",(function(o,n){t(o.exports,"DEFAULT_EDITOR_KEY",(function(){return u})),t(o.exports,"default",(function(){return d}));var a=r("fPPqr"),i=r("9nHZC"),s=r("6x4M3"),l=r("bVIhs"),c=r("kNial");const u="$default";class d extends i.PureComponent{render(){const{source:t,hash:r,height:o,path:n,principalId:u,repositoryFullSlug:d,...p}=this.props;if(!u||!d||!r)return null;const[f,h]=d.split("/"),g=[{target:(0,l.commitFileTarget)({path:n,hash:r,repositoryOwner:f,repositorySlug:h}),modules:[{moduleType:"fileEditors"},{moduleType:"generalPages"}]}];return e(i).createElement(s.FileEditor,e(a)({},p,{defaultStyles:{display:"block",height:o},loadingFailedComponent:c.default,principalId:u,source:t,query:g}))}}})),r.register("kNial",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("fPPqr"),i=r("9nHZC"),s=r("agjvf"),l=r("km7CC"),c=r("jp7ng"),u=r("h39Sh"),d=r("jxXs0"),p=r("2MtLE");class f extends i.PureComponent{render(){const{addonKey:t}=this.props;return e(i).createElement(p.Wrapper,null,e(i).createElement(p.Header,null,e(i).createElement(e(l),{primaryColor:(0,u.default)("color.icon.danger",c.R300),label:""}),e(i).createElement(p.Title,null,e(i).createElement(s.FormattedMessage,d.default.connectLoadingErrorTitle))),e(i).createElement(p.Description,null,e(i).createElement(s.FormattedMessage,e(a)({},d.default.connectLoadingErrorDescription,{values:{appName:t}}))))}}})),r.register("jxXs0",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({connectLoadingErrorTitle:{id:"frontbucket.repository.source.connect.loadingErrorTitle",defaultMessage:"Your app failed to load"},connectLoadingErrorDescription:{id:"frontbucket.repository.source.connect.loadingErrorDescription",defaultMessage:"Something went wrong when we tried to load the app {appName}."}})})),r.register("2MtLE",(function(e,o){t(e.exports,"Wrapper",(function(){return c})),t(e.exports,"Header",(function(){return u})),t(e.exports,"Title",(function(){return d})),t(e.exports,"Description",(function(){return p}));var n=r("2xJU3"),a=r("jp7ng"),i=r("aP6k3"),s=r("dCDrX"),l=r("h39Sh");const c=(0,n.default)("div",{target:"e6tvwjo0"})("display:flex;flex-direction:column;align-items:center;flex-grow:1;padding:",4*(0,i.gridSize)(),"px;"),u=(0,n.default)("div",{target:"e6tvwjo1"})(s.h400(),";align-items:center;display:flex;"),d=(0,n.default)("div",{target:"e6tvwjo2"})("margin-left:",(0,i.gridSize)(),"px;"),p=(0,n.default)("p",{target:"e6tvwjo3"})("color:",(0,l.default)("color.text.subtle",a.N500),";")})),r.register("a2PLh",(function(o,n){t(o.exports,"default",(function(){return h}));var a=r("9nHZC"),i=r("lIZwG"),s=r("dGzLf"),l=r("ilJwJ"),c=r("aanBq"),u=r("g2R3c"),d=r("6kaFm"),p=r("lXj7r");class f extends a.PureComponent{render(){const{hash:t,height:r,principalId:o,repository:n,viewer:i}=this.props;if(!o||!n||!t)return null;const{params:s}=this.props.match;if(!s.path)return null;const l=(0,d.safeDecodePath)(s.path||""),[c,u]=n.full_name.split("/");return e(a).createElement(p.FileViewer,{height:r,principalId:o,repositoryOwner:c,repositorySlug:u,path:l,hash:t,viewer:i})}}var h=(0,l.withRouter)((0,s.connect)((e=>({principalId:(0,u.getTargetUserKey)(e),repository:(0,c.getCurrentRepository)(e),hash:(0,i.default)(e,"repository.source.section.hash")})))(f))})),r.register("lXj7r",(function(o,n){t(o.exports,"FileViewer",(function(){return c}));var a=r("9nHZC"),i=r("6x4M3"),s=r("bVIhs"),l=r("kNial");class c extends a.PureComponent{render(){const{hash:t,height:r,path:o,principalId:n,repositoryOwner:c,repositorySlug:u,viewer:d}=this.props;return e(a).createElement(i.ConnectIframe,{defaultStyles:{height:r,width:"100%"},moduleType:"fileViews",principalId:n,target:(0,s.commitFileTarget)({path:o,hash:t,repositoryOwner:c,repositorySlug:u}),moduleKey:d,loadingFailedComponent:l.default})}}})),r.register("5wjHx",(function(o,n){t(o.exports,"default",(function(){return d}));var a=r("9nHZC"),i=r("dGzLf"),s=r("aanBq"),l=r("g2R3c"),c=r("jpnmM");class u extends a.PureComponent{render(){const{principalId:t,repository:r,hash:o,sourceObject:n}=this.props;if(!t||!r||!o||!n||n.isLoading)return null;const{path:i}=n,[s,l]=r.full_name.split("/");return e(a).createElement(c.FileActions,{principalId:t,repositoryOwner:s,repositorySlug:l,path:i,hash:o})}}var d=(0,i.connect)((e=>({principalId:(0,l.getTargetUserKey)(e),repository:(0,s.getCurrentRepository)(e),hash:e.repository.source.section.hash,sourceObject:e.repository.source.section.sourceObject})))(u)})),r.register("jpnmM",(function(o,n){t(o.exports,"FileActions",(function(){return c}));var a=r("9nHZC"),i=r("6x4M3"),s=r("bVIhs"),l=r("c1mKW");class c extends a.PureComponent{render(){const{principalId:t,path:r,hash:o,repositoryOwner:n,repositorySlug:c}=this.props;return e(a).createElement(i.WebItems,{location:"org.bitbucket.source.file.actions",principalId:t,target:(0,s.commitFileTarget)({path:r,hash:o,repositoryOwner:n,repositorySlug:c}),component:l.WebItemButton,loadingComponent:()=>null},(t=>e(a).createElement("span",{"data-qa":"connect-source-file-actions"},t)))}}})),r.register("c1mKW",(function(e,o){t(e.exports,"WebItemButton",(function(){return s}));var n=r("2xJU3"),a=r("EKmRU"),i=r("aP6k3");const s=(0,n.default)(a.default,{target:"ebsqw0h0"})("margin-right:",(0,i.gridSize)(),"px;&:last-child{margin-right:0;}")})),r.register("2ck3X",(function(e,o){t(e.exports,"default",(function(){return l}));var n=r("dGzLf"),a=r("aanBq"),i=r("g2R3c"),s=r("eqdil");var l=(0,n.connect)((e=>({hash:e.repository.source.section.hash,principalId:(0,i.getTargetUserKey)(e),repositoryFullSlug:(0,a.getCurrentRepositoryFullSlug)(e)})))(s.default)})),r.register("bJh0A",(function(o,n){t(o.exports,"default",(function(){return p}));var a=r("9nHZC"),i=r("lIZwG"),s=r("dGzLf"),l=r("aanBq"),c=r("g2R3c"),u=r("jmfnb");class d extends a.PureComponent{render(){const{moduleKey:t,moduleType:r,principalId:o,repository:n,hash:i,defaultLabel:s,onSelect:l,sourceObject:c}=this.props;if(!o||!n||!i||!c||c.isLoading)return null;const{path:d}=c,[p,f]=n.full_name.split("/");return e(a).createElement(u.FileModuleMenu,{moduleKey:t,moduleType:r,principalId:o,repositoryOwner:p,repositorySlug:f,path:d,hash:i,defaultLabel:s,onSelect:l})}}var p=(0,s.connect)((e=>({principalId:(0,c.getTargetUserKey)(e),repository:(0,l.getCurrentRepository)(e),hash:(0,i.default)(e,"repository.source.section.hash"),sourceObject:e.repository.source.section.sourceObject})))(d)})),r.register("jmfnb",(function(o,n){t(o.exports,"FileModuleMenu",(function(){return g}));var a=r("9nHZC"),i=r("lIZwG"),s=r("5WD8l"),l=r("c83ir"),c=r("kMn2f"),u=r("a4gKp"),d=r("6x4M3"),p=r("bVIhs"),f=r("eqdil"),h=r("1y0J9");class g extends a.PureComponent{render(){const{defaultLabel:t,hash:r,moduleKey:o,moduleType:n,path:g,principalId:m,repositoryOwner:y,repositorySlug:b}=this.props;return e(a).createElement(d.ConnectModules,{principalId:m,target:(0,p.commitFileTarget)({path:g,hash:r,repositoryOwner:y,repositorySlug:b}),moduleType:n},(({modules:r})=>{if(!r.length)return!1;const n=r.find((e=>e.descriptor.key===o));return e(a).createElement(s.default,{position:"bottom right",trigger:n?(0,i.default)(n,"descriptor.name.value"):t,triggerButtonProps:{appearance:"subtle"},triggerType:"button"},e(a).createElement(c.default,null,e(a).createElement(l.default,{onClick:()=>this.props.onSelect(f.DEFAULT_EDITOR_KEY)},e(a).createElement(h.MenuItem,null,e(a).createElement(h.IconWrapper,null,!n&&e(a).createElement(e(u),{size:"small",label:""})),e(a).createElement("span",null,t))),r.map((t=>e(a).createElement(l.default,{key:t.id,onClick:()=>this.props.onSelect(t.descriptor.key)},e(a).createElement(h.MenuItem,null,e(a).createElement(h.IconWrapper,null,o===t.descriptor.key&&e(a).createElement(e(u),{size:"small",label:""})),e(a).createElement("span",null,(0,i.default)(t,"descriptor.name.value"))))))))}))}}})),r.register("a4gKp",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var o,n=(o=r("9nHZC"))&&o.__esModule?o:{default:o},a=r("57VDz");const i=e=>n.default.createElement(a.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><circle cx="12" cy="12" r="6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));i.displayName="PresenceActiveIcon";var s=i;e.exports.default=s})),r.register("1y0J9",(function(e,o){t(e.exports,"MenuItem",(function(){return i})),t(e.exports,"IconWrapper",(function(){return s}));var n=r("2xJU3"),a=r("aP6k3");const i=(0,n.default)("div",{target:"e1dps1s50"})({name:"k008qs",styles:"display:flex;"}),s=(0,n.default)("span",{target:"e1dps1s51"})("width:",3*(0,a.gridSize)(),"px;")})),r.register("c1V73",(function(o,n){t(o.exports,"preloadLoadableDropdownAppList",(function(){return d})),t(o.exports,"LazyForgeRepoCodeOverviewActionAppsList",(function(){return p}));var a=r("9nHZC"),i=r("8shKB"),s=r("c83ir"),l=r("dEKDm"),c=r("9q5oL");const u=e(i)({loading:()=>e(a).createElement(s.default,null,e(a).createElement(l.default,{size:"small"})),loader:()=>r("4mxaZ"),modules:["./repo-code-overview-action-apps-list"],webpack:()=>[(void 0)("./repo-code-overview-action-apps-list")]}),d=()=>{(0,c.isForgeEnabled)()&&u.preload()},p=t=>(0,c.isForgeEnabled)()?e(a).createElement(u,t):null})),r.register("4mxaZ",(function(e,t){e.exports=r("fogPC")(r("fUFji").getBundleURL("164F5")+r("b5UgF").resolve("jAiBj")).then((()=>r("gBP2R")))})),r.register("fogPC",(function(e,t){"use strict";var o=r("6peyl");e.exports=o((function(e){return new Promise((function(t,r){var o=document.getElementsByTagName("script");if([].concat(o).some((function(t){return t.src===e})))t();else{var n=document.createElement("link");n.href=e,n.rel="preload",n.as="script",document.head.appendChild(n);var a=document.createElement("script");a.async=!0,a.type="text/javascript",a.src=e,a.onerror=function(t){var o=new TypeError("Failed to fetch dynamically imported module: ".concat(e,". Error: ").concat(t.message));a.onerror=a.onload=null,a.remove(),r(o)},a.onload=function(){a.onerror=a.onload=null,t()},document.getElementsByTagName("head")[0].appendChild(a)}}))}))})),r.register("6peyl",(function(e,t){"use strict";var r={},o={},n={};e.exports=function(e,t){return function(a){var i=function(e){switch(e){case"preload":return o;case"prefetch":return n;default:return r}}(t);return i[a]?i[a]:i[a]=e.apply(null,arguments).catch((function(e){throw delete i[a],e}))}}})),r.register("fUFji",(function(e,r){var o,n;t(e.exports,"getBundleURL",(function(){return o}),(function(e){return o=e})),t(e.exports,"getOrigin",(function(){return n}),(function(e){return n=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}o=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t},n=function(e){var t=(""+e).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!t)throw new Error("Origin not found");return t[0]}})),r.register("b5UgF",(function(e,r){var o,n;t(e.exports,"register",(function(){return o}),(function(e){return o=e})),t(e.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};o=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},n=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r.register("8zKG4",(function(o,n){t(o.exports,"LazyForgeRepoCodeOverviewActionSingleApp",(function(){return u}));var a=r("9nHZC"),i=r("8shKB"),s=r("3wXS7"),l=r("9q5oL");const c=e(i)({loading:s.HiddenLoader,loader:()=>r("5o0bk"),modules:["./repo-code-overview-action-single-app"],webpack:()=>[(void 0)("./repo-code-overview-action-single-app")]}),u=t=>(0,l.isForgeEnabled)()?e(a).createElement(c,t):null})),r.register("5o0bk",(function(e,t){e.exports=r("fogPC")(r("fUFji").getBundleURL("164F5")+r("b5UgF").resolve("4LwYH")).then((()=>r("2e1UT")))})),r.register("55F46",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("fPPqr"),i=r("9nHZC"),s=r("agjvf"),l=r("2a6nK"),c=r("90pdu"),u=r("kGE65"),d=r("2RdbF");class p extends i.Component{render(){const{intl:t,onClose:r,onDownload:o}=this.props,n=e(i).createElement("a",{href:"https://confluence.atlassian.com/x/RjRmMQ",target:"_blank"},t.formatMessage(d.default.lfsLimitationsLink));return e(i).createElement(c.default,null,this.props.isOpen&&e(i).createElement(l.default,{actions:[{text:t.formatMessage(d.default.actionDownloadRepository),onClick:o},{text:t.formatMessage(u.commonMessages.cancel),onClick:r}],onClose:r,heading:t.formatMessage(d.default.heading),width:"small"},e(i).createElement(s.FormattedMessage,e(a)({tagName:"p"},d.default.downloadWarning)),e(i).createElement(s.FormattedMessage,e(a)({tagName:"p"},d.default.readMore,{values:{link:n}}))))}}var f=(0,s.injectIntl)(p)})),r.register("2RdbF",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({heading:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.heading",defaultMessage:"Download Git LFS repository"},actionDownloadRepository:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.actionDownloadRepository",defaultMessage:"Download"},lfsLimitationsLink:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.lfsLimitationsLink",defaultMessage:"workaround for including Git LFS files"},downloadWarning:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.downloadWarning",defaultMessage:"Currently, Git LFS files are not included when you download an archive of the repository."},readMore:{id:"frontbucket.repository.downloadRepositoryLfsModalDialog.readMore",defaultMessage:"Read about the {link} in an archive."}})})),r.register("4eta7",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("dGzLf"),a=r("jF3Yx"),i=r("aanBq"),s=r("gKeEi"),l=r("9JiSD"),c=r("3y3KB");var u=(0,a.compose)((0,n.connect)((e=>({hasError:e.repository.subscriptions.hasError,isWatchingRepository:e.repository.details.isWatching,repositoryFullSlug:(0,i.getCurrentRepositoryFullSlug)(e),settings:e.repository.subscriptions.settings})),(e=>({onFetchRepositorySubscriptions:(t,r)=>e((0,s.fetchRepositorySubscriptions)(t,r)),onToggleRepositoryWatch:t=>{e((0,l.default)(t))}}))))(c.default)})),r.register("9JiSD",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("gKeEi"),a=e=>({type:n.TOGGLE_REPOSITORY_WATCH.REQUEST,payload:{repositoryFullSlug:e}})})),r.register("3y3KB",(function(o,n){t(o.exports,"default",(function(){return C}));var a=r("fPPqr"),i=r("9nHZC"),s=r("agjvf"),l=r("EKmRU"),c=r("5oo0Y"),u=r("2a6nK"),d=r("duzeZ"),p=r("9ovwz"),f=r("kGE65"),h=r("6aoKW"),g=r("kZnTB"),m=r("1KKSj");const y={pullrequests:"labelPullrequests",issues:"labelIssues",commits:"labelCommits",wiki:"labelWiki",forks:"labelForks",commit_status:"labelPipelines"};class b extends i.PureComponent{constructor(...t){super(...t),this.handleOnCheckboxChange=e=>{if(!e.currentTarget)return;const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r,settings:o}=this.props,{checked:n,value:a}=e.currentTarget;t(r,{...o,[a]:n})},this.renderCheckbox=t=>{const{intl:r,isWatchingRepository:o,settings:n}=this.props,a=y[t];return e(i).createElement(c.default,{isChecked:n[t],isDisabled:!o,label:r.formatMessage(m.default[a]),onChange:this.handleOnCheckboxChange,value:t})}}componentDidMount(){const{onFetchRepositorySubscriptions:e,repositoryFullSlug:t}=this.props;t&&e(t)}componentDidUpdate(e){const{onFetchRepositorySubscriptions:t,repositoryFullSlug:r}=this.props;r&&r!==e.repositoryFullSlug&&t(r)}render(){if(!this.props.settings)return null;const{hasError:t,isWatchingRepository:r,onFetchRepositorySubscriptions:o,onToggleRepositoryWatch:n,onCloseSubscriptionsDialog:c,repositoryFullSlug:y,settings:b}=this.props,{has_commit_statuses:C,has_issues:v,has_repo:E,has_wiki:x}=b,M=e(i).createElement(s.FormattedMessage,m.default[r?"headingWatching":"headingNotWatching"]),k=()=>e(i).createElement(l.default,{onClick:()=>{(0,h.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"watchRepositoryButton",source:"repositorySubscriptionsModal",attributes:{item:r?"unwatchRepository":"watchRepository"}}),n(y)},"aria-pressed":r},e(i).createElement(s.FormattedMessage,m.default[r?"buttonUnwatchRepository":"buttonWatchRepository"])),w=()=>e(i).createElement(i.Fragment,null,e(i).createElement("p",null,e(i).createElement(s.FormattedMessage,e(a)({tagName:"strong"},m.default.headingSettingsList))),E&&this.renderCheckbox("pullrequests"),v&&this.renderCheckbox("issues"),E&&this.renderCheckbox("commits"),x&&this.renderCheckbox("wiki"),E&&this.renderCheckbox("forks"),E&&C&&this.renderCheckbox("commit_status")),S=()=>e(i).createElement(p.ErrorState,{description:e(i).createElement(s.FormattedMessage,e(a)({tagName:"p"},m.default.errorDescription)),onClick:()=>o(y)});return e(i).createElement(u.default,{autoFocus:!1,heading:M,footer:()=>e(i).createElement(d.Footer,null,e(i).createElement(l.default,{appearance:"link",href:g.default.ui.notifications,onClick:()=>(0,h.publishUiEvent)({action:"clicked",actionSubject:"link",actionSubjectId:"manageAllSubscriptionsLink",source:"repositorySubscriptionsModal",attributes:{item:"manageAllSubscriptions"}})},e(i).createElement(s.FormattedMessage,m.default.actionManageNotifications)),e(i).createElement(l.default,{appearance:"subtle",onClick:c},e(i).createElement(s.FormattedMessage,f.commonMessages.close))),width:"small"},e(i).createElement(k,null),t?e(i).createElement(S,null):e(i).createElement(w,null))}}var C=(0,s.injectIntl)(b)})),r.register("1KKSj",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({headingWatching:{id:"frontbucket.repository.subscriptionsDialog.headingWatching",defaultMessage:"You are watching this repository"},headingNotWatching:{id:"frontbucket.repository.subscriptionsDialog.headingNotWatching",defaultMessage:"You are not watching this repository"},actionManageNotifications:{id:"frontbucket.repository.subscriptionsDialog.actionManageNotifications",defaultMessage:"Manage all notifications"},buttonWatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonWatchRepository",defaultMessage:"Watch this repository"},buttonUnwatchRepository:{id:"frontbucket.repository.subscriptionsDialog.buttonUnwatchRepository",defaultMessage:"Stop watching"},headingSettingsList:{id:"frontbucket.repository.subscriptionsDialog.headingSettingsList",defaultMessage:"Subscribe to notifications about all"},labelPullrequests:{id:"frontbucket.repository.subscriptionsDialog.labelPullrequests",defaultMessage:"Pull requests"},labelIssues:{id:"frontbucket.repository.subscriptionsDialog.labelIssues",defaultMessage:"Issues"},labelCommits:{id:"frontbucket.repository.subscriptionsDialog.labelCommits",defaultMessage:"Commits"},labelWiki:{id:"frontbucket.repository.subscriptionsDialog.labelWiki",defaultMessage:"Wiki changes"},labelForks:{id:"frontbucket.repository.subscriptionsDialog.labelForks",defaultMessage:"Forks"},labelPipelines:{id:"frontbucket.repository.subscriptionsDialog.labelPipelines",defaultMessage:"Pipelines"},errorHeading:{id:"frontbucket.repository.subscriptionsDialog.errorHeading",defaultMessage:"Something went wrong..."},errorDescription:{id:"frontbucket.repository.subscriptionsDialog.errorDescription",defaultMessage:"We were unable to get your notification settings."},errorAction:{id:"frontbucket.repository.subscriptionsDialog.errorAction",defaultMessage:"Try again"}})})),r.register("8n03k",(function(e,o){t(e.exports,"default",(function(){return s}));var n=r("dGzLf"),a=r("aanBq"),i=r("24pi0");var s=(0,n.connect)((e=>{const{section:t}=e.repository.source,r=t.ref?t.ref.name:null;return{repository:(0,a.getCurrentRepository)(e),refName:r,hash:e.repository.source.section.hash}}))(i.default)})),r.register("laHDh",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("fwbLD"),i=r("6oxCx"),s=r("dGzLf"),l=r("mNHVL"),c=r("8MnfV"),u=r("g2R3c"),d=r("hwrhq"),p=r("7cGfh");var f=(0,s.connect)((t=>{const r=(0,u.getCurrentUser)(t),o=r&&r.created_on?r.created_on:null;return{isCollapsed:!(0,c.getIsMobileHeaderActive)(t)&&!(0,l.isSourceSidebarOpen)(t),expandedWidth:(0,l.getSourceSidebarWidth)(t),isNewUser:!!o&&e(a)(e(i)(Date.now()),e(i)(o))<p.NEW_USER_EXPERIMENT_AGE_IN_DAYS}}),(e=>({onResize:t=>e((0,l.updateSidebarState)({isOpen:!t.isCollapsed,width:t.width,sidebarType:"source"})),toggleSidebar:()=>e((0,l.updateSidebarState)({sidebarType:"source"}))})))(d.default)})),r.register("fwbLD",(function(e,t){var o=r("6oxCx"),n=r("faCXD"),a=r("jv3Dr");e.exports=function(e,t){var r=o(e),i=o(t),s=a(r,i),l=Math.abs(n(r,i));return r.setDate(r.getDate()-s*l),s*(l-(a(r,i)===-s))}})),r.register("faCXD",(function(e,t){var o=r("7Tijs");e.exports=function(e,t){var r=o(e),n=o(t),a=r.getTime()-6e4*r.getTimezoneOffset(),i=n.getTime()-6e4*n.getTimezoneOffset();return Math.round((a-i)/864e5)}})),r.register("7Tijs",(function(e,t){var o=r("6oxCx");e.exports=function(e){var t=o(e);return t.setHours(0,0,0,0),t}})),r.register("jv3Dr",(function(e,t){var o=r("6oxCx");e.exports=function(e,t){var r=o(e).getTime(),n=o(t).getTime();return r<n?-1:r>n?1:0}})),r.register("hwrhq",(function(o,n){t(o.exports,"default",(function(){return b}));var a=r("9nHZC"),i=r("7Vqk1"),s=r("7nLM4"),l=r("3oHDN"),c=r("3F5vi"),u=r("bqoFr"),d=r("cEOrY"),p=r("lVoCK"),f=r("46X8A"),h=r("lum6u"),g=r("9B6pF"),m=r("2CbQn");class y extends a.PureComponent{render(){const t=[],r=[];return this.props.isNewUser&&(t.push({type:s.Cards.NewUser,content:e(a).createElement(g.default,{isCollapsed:!0})}),r.push({type:s.Cards.NewUser,content:e(a).createElement(g.default,null)})),t.push({type:s.Cards.Discovery,content:e(a).createElement(l.default,{isCollapsed:!0})},{type:s.Cards.SourceDetails,content:e(a).createElement(m.default,{isCollapsed:!0})},{type:s.Cards.BuildStatus,content:e(a).createElement(i.BuildStatusCard,{isCollapsed:!0})},{type:s.Cards.ConnectSource,content:e(a).createElement(c.ConnectSourceWebCards,{isCollapsed:!0})}),r.push({type:s.Cards.Discovery,content:e(a).createElement(l.default,null)},{type:s.Cards.SourceDetails,content:e(a).createElement(m.default,null)},{type:s.Cards.CompassCard,content:e(a).createElement(h.default,null)},{type:s.Cards.BuildStatus,content:e(a).createElement(i.BuildStatusCard,null)},{type:s.Cards.ConnectSource,content:e(a).createElement(c.ConnectSourceWebCards,null)},{type:s.Cards.ForgeRepoCodeOverviewCard,content:e(a).createElement(u.LazyForgeRepoCodeOverviewCards,null)}),e(a).createElement(p.default,{sidebarType:"source",toggleSidebar:this.props.toggleSidebar},e(a).createElement(f.default,null,e(a).createElement(d.default,{collapsedContent:t,expandedContent:r,isCollapsed:!!this.props.isCollapsed,onResize:this.props.onResize,expandedWidth:this.props.expandedWidth})))}}y.defaultProps={isCollapsed:!1};var b=y})),r.register("3oHDN",(function(o,n){t(o.exports,"default",(function(){return b}));var a=r("9nHZC"),i=r("agjvf"),s=r("dGzLf"),l=r("gIpOI"),c=r("aanBq"),u=r("g2R3c"),d=r("6aoKW"),p=r("77ghb"),f=r("7CHjw"),h=r("eTUWp"),g=r("935yo");class m extends a.PureComponent{constructor(...e){super(...e),this.state={isSpotlightActive:!1,isCardDismissed:!1},this.handleClose=()=>{const{userUuid:e}=this.props;e&&(0,g.dismissCard)(e),this.setState({isSpotlightActive:!0,isCardDismissed:!0}),(0,d.publishFact)(new(0,h.DiscoveryCardClosed)),(0,d.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardCloseButton",source:"discoveryCard"})},this.handleDismiss=()=>{this.setState({isSpotlightActive:!1,isCardDismissed:!0})},this.toggleCollapse=e=>{e?((0,d.publishFact)(new(0,h.DiscoveryCardExpand)),(0,d.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardExpandButton",source:"discoveryCard"})):((0,d.publishFact)(new(0,h.DiscoveryCardMinimize)),(0,d.publishUiEvent)({action:"clicked",actionSubject:"button",actionSubjectId:"discoveryCardMinimizeButton",source:"discoveryCard"}))}}componentDidMount(){const{isOwner:e,isCollapsed:t,userUuid:r}=this.props;!t&&e&&r&&(0,g.shouldDisplayCard)(r)&&((0,d.publishFact)(new(0,h.DiscoveryCardView)),(0,d.publishScreenEvent)("discovery-card-view"))}render(){const{isSpotlightActive:t,isCardDismissed:r}=this.state,{intl:o,isCardEnabled:n,isCollapsed:i,isOwner:s,userUuid:c}=this.props;if(!n)return null;if(s){if(t&&r)return e(a).createElement(l.default,{actions:[{onClick:()=>this.handleDismiss(),text:o.formatMessage(f.default.ok)}],dialogPlacement:"left bottom",dialogWidth:240,key:"navigation-account-menu",target:"navigation-account-menu",targetRadius:24},e(a).createElement("p",null,o.formatMessage(f.default.spotlightMessage),e(a).createElement("strong",null,o.formatMessage(f.default.integrations)),"."));if(!r&&c&&(0,g.shouldDisplayCard)(c))return e(a).createElement(p.default,{isCollapsed:i,handleClose:this.handleClose,toggleCollapse:this.toggleCollapse})}return null}}const y=(0,i.injectIntl)(m);var b=(0,s.connect)((e=>{const t=(0,u.getCurrentUser)(e),r=(0,c.getCurrentRepositoryOwner)(e);return{isOwner:!(!t||!r)&&t.uuid===r.uuid,isCardEnabled:e.global.features["discovery-card"],userUuid:t?t.uuid:void 0}}))(y)})),r.register("77ghb",(function(o,n){t(o.exports,"default",(function(){return y}));var a=r("9nHZC"),i=r("agjvf"),s=r("3THTN"),l=r("7uSZr"),c=r("a7iuM"),u=r("lP1H7"),d=r("a9ixz"),p=r("6aoKW"),f=r("7CHjw"),h=r("bpHLU"),g=r("eTUWp"),m=r("6Ewpz"),y=(0,i.injectIntl)(class extends a.PureComponent{render(){const{intl:t,isCollapsed:r}=this.props,o=e(a).createElement(e(l),{label:""}),n=t.formatMessage(f.default.label);return r?e(a).createElement(c.default,{position:"left",content:n},e(a).createElement(s.default,{appearance:"subtle",iconBefore:o})):e(a).createElement(u.default,{icon:o,label:n,onClose:this.props.handleClose,onChange:this.props.toggleCollapse},e(a).createElement(h.ImageContainer,null,e(a).createElement("img",{alt:n,src:e(m)})),e(a).createElement(h.Description,null,t.formatMessage(f.default.body)),e(a).createElement(h.DividingLine,null),e(a).createElement(h.Link,{href:`${d.default.ui.addonDirectory}?ref=discovery-card`,onClick:()=>{(0,p.publishFact)(new(0,g.DiscoveryCardBrowseClick)),(0,p.publishUiEvent)({action:"clicked",actionSubject:"link",actionSubjectId:"browseAppsLink",source:"discoveryCard"})}},t.formatMessage(f.default.browse)))}})})),r.register("lP1H7",(function(o,n){t(o.exports,"default",(function(){return C}));var a,i=r("9nHZC"),s=r("dMdA2"),l=r("agjvf"),c=r("3THTN"),u=r("5WD8l"),d=r("c83ir"),p=r("kMn2f"),f=r("6vB7D"),h=r("kb4D4"),g=r("jp7ng"),m=r("h39Sh"),y=r("5utKo"),b=r("iBKyC"),C=(0,l.injectIntl)(((a=class extends i.Component{constructor(...e){super(...e),this.state={isCollapsed:this.props.defaultCollapsed||!1,isClosed:this.props.defaultClosed||!1},this.toggleCollapse=()=>{const{isCollapsed:e}=this.state;this.props.onChange&&this.props.onChange(e),this.setState((()=>({isCollapsed:!e})))},this.handleClose=()=>{const{isClosed:e}=this.state;e||(this.setState({isClosed:!0}),this.props.onClose&&this.props.onClose())}}renderHeading(){const{icon:t,label:r,intl:o,isCollapsible:n}=this.props,{isCollapsed:a}=this.state;return e(i).createElement(i.Fragment,null,e(i).createElement(b.Icon,null,t),e(i).createElement(i.Fragment,null,e(i).createElement(b.PanelHeadingLabel,null,r)),n?e(i).createElement(u.default,{triggerType:"button",triggerButtonProps:{appearance:"subtle",iconBefore:e(i).createElement(e(h),{label:""})},shouldFlip:!1,position:"bottom right"},e(i).createElement(p.default,null,e(i).createElement(d.default,{onClick:this.toggleCollapse},a?o.formatMessage(y.default.expand):o.formatMessage(y.default.minimize)),e(i).createElement(d.default,{onClick:this.handleClose},o.formatMessage(y.default.close)))):e(i).createElement(c.default,{iconBefore:e(i).createElement(e(f),{primaryColor:(0,m.default)("color.icon",g.N800),label:o.formatMessage(y.default.close)}),appearance:"subtle",spacing:"none",onClick:this.handleClose}))}render(){const{isCollapsed:t}=this.state;return e(i).createElement(b.Panel,{isCollapsed:t},e(i).createElement(b.PanelHeading,{isCollapsed:t},this.renderHeading()),e(i).createElement(e(s),{duration:200,easing:"linear",height:t?0:"auto"},e(i).createElement(b.PanelBody,null,this.props.children)))}}).defaultProps={defaultCollapsed:!1,defaultClosed:!1,isCollapsible:!0},a))})),r.register("5utKo",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({minimize:{id:"frontbucket.cards.dropdownExpander.minimize",defaultMessage:"Minimize"},expand:{id:"frontbucket.cards.dropdownExpander.expand",defaultMessage:"Expand"},close:{id:"frontbucket.cards.dropdownExpander.close",defaultMessage:"Close"}})})),r.register("7CHjw",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({label:{id:"frontbucket.connect.discoveryCardIcon.label",defaultMessage:"Level up with an app"},body:{id:"frontbucket.connect.discoveryCard.body",defaultMessage:"Looking for more features? We've got some powerful apps for Bitbucket - get insights into your code, customize your workflow, and more."},browse:{id:"frontbucket.connect.discoveryCard.browseApps",defaultMessage:"Browse apps"},spotlightMessage:{id:"frontbucket.connect.discoveryCard.spotlightMessage",defaultMessage:"If you want to add or manage apps later, just click your profile picture and choose"},integrations:{id:"frontbucket.connect.discoveryCard.spotlightMessage.integrations",defaultMessage:"Integrations"},ok:{id:"frontbucket.connect.discoveryCard.okButton",defaultMessage:"OK"}})})),r.register("bpHLU",(function(e,o){t(e.exports,"ImageContainer",(function(){return s})),t(e.exports,"DividingLine",(function(){return l})),t(e.exports,"Link",(function(){return c})),t(e.exports,"Description",(function(){return u}));var n=r("2xJU3"),a=r("jp7ng"),i=r("aP6k3");(0,n.default)("div",{target:"e5czws50"})("& + &{margin-top:",1.5*(0,i.gridSize)(),"px;}");const s=(0,n.default)("div",{target:"e5czws51"})({name:"170ph2z",styles:"text-align:center;> img{width:120px;}"}),l=(0,n.default)("hr",{target:"e5czws52"})("border:none;height:1px;background-color:",a.N40A,";margin:",.5*(0,i.gridSize)(),"px;"),c=(0,n.default)("a",{target:"e5czws53"})("display:flex;align-items:center;justify-content:center;font-weight:600;padding-top:",.5*(0,i.gridSize)(),"px;padding-bottom:",.25*(0,i.gridSize)(),"px;"),u=(0,n.default)("p",{target:"e5czws54"})("font-weight:normal;padding-left:",.5*(0,i.gridSize)(),"px;padding-bottom:",.5*(0,i.gridSize)(),"px;")})),r.register("eTUWp",(function(e,o){t(e.exports,"DiscoveryCardView",(function(){return a})),t(e.exports,"DiscoveryCardMinimize",(function(){return i})),t(e.exports,"DiscoveryCardExpand",(function(){return s})),t(e.exports,"DiscoveryCardClosed",(function(){return l})),t(e.exports,"DiscoveryCardBrowseClick",(function(){return c}));var n=r("3hzea");class a extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.view"}}class i extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.minimize"}}class s extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.expand"}}class l extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.closed"}}class c extends n.default{constructor(...e){super(...e),this.name="bitbucket.connect.discovery_card.click"}}})),r.register("6Ewpz",(function(e,t){e.exports=r("fUFji").getBundleURL("164F5")+r("b5UgF").resolve("iyl5z")})),r.register("935yo",(function(e,o){t(e.exports,"dismissCard",(function(){return i})),t(e.exports,"shouldDisplayCard",(function(){return s}));var n=r("h3kk7");const a=e=>`discoverycard::${e}`;function i(e){n.default.set(a(e),!1)}function s(e){return!1!==n.default.get(a(e))}})),r.register("bqoFr",(function(o,n){t(o.exports,"LazyForgeRepoCodeOverviewCards",(function(){return u}));var a=r("9nHZC"),i=r("8shKB"),s=r("3wXS7"),l=r("9q5oL");const c=e(i)({loading:s.HiddenLoader,loader:()=>r("dx8ia"),modules:["./repo-code-overview-cards"],webpack:()=>[(void 0)("./repo-code-overview-cards")]}),u=t=>(0,l.isForgeEnabled)()?e(a).createElement(c,t):null})),r.register("dx8ia",(function(e,t){e.exports=r("fogPC")(r("fUFji").getBundleURL("164F5")+r("b5UgF").resolve("3qRdk")).then((()=>r("dIk2x")))})),r.register("46X8A",(function(o,n){t(o.exports,"default",(function(){return u}));var a=r("9nHZC"),i=r("dGzLf"),s=r("fM6HV"),l=r("aanBq"),c=r("635SY");var u=(0,i.connect)((e=>({hash:e.repository.source.section.hash,repository:(0,l.getCurrentRepository)(e)})))((({hash:t,repository:r,children:o})=>{let n,i,l;return r&&t&&(l=r.full_name,n=c.default.api.v20.buildStatuses(l,t),i=c.default.api.internal.repositoryMetadataURL(r.full_name)),e(a).createElement(s.BuildStatusProvider,{repositoryFullSlug:l,buildStatusURL:n,repositoryMetadataURL:i},o)}))})),r.register("9B6pF",(function(o,n){t(o.exports,"default",(function(){return g}));var a=r("fPPqr"),i=r("9nHZC"),s=r("agjvf"),l=r("eKRh3"),c=r("a7iuM"),u=r("7nLM4"),d=r("ilJwJ"),p=r("635SY"),f=r("aghfy");class h extends i.PureComponent{render(){const t=this.props.intl.formatMessage(f.default.header),r=e(i).createElement(l.BitbucketIcon,{label:t});if(this.props.isCollapsed)return e(i).createElement(c.default,{position:"left",content:t},r);const o={guide:e(i).createElement("a",{href:p.default.external.gettingStarted,target:"_blank"},"getting started guide")};return e(i).createElement(u.Expander,{icon:r,label:t},e(i).createElement("p",null,e(i).createElement(s.FormattedMessage,f.default.intro)),e(i).createElement("p",null,e(i).createElement(s.FormattedMessage,e(a)({},f.default.contents,{values:o}))))}}h.defaultProps={isCollapsed:!1};var g=(0,d.withRouter)((0,s.injectIntl)(h))})),r.register("aghfy",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({header:{id:"frontbucket.repository.source.sidebar.newUserCard.header",defaultMessage:"Welcome to Bitbucket"},intro:{id:"frontbucket.repository.source.sidebar.newUserCard.intro",defaultMessage:"Congratulations on making it into a repository! Here\u2019s where you store files."},contents:{id:"frontbucket.repository.source.sidebar.newUserCard.contents",defaultMessage:"Whether you were invited or it\u2019s your first one, check out our {guide} for a basic introduction to Bitbucket and repositories."}})})),r.register("2CbQn",(function(o,n){t(o.exports,"default",(function(){return f}));var a=r("9nHZC"),i=r("dGzLf"),s=r("dqY9c"),l=r("6kaFm"),c=r("3KXkG"),u=r("foJbJ"),d=r("g6Mnr");const p=(0,i.connect)((e=>({fileTree:e.repository.source.section.fileTree})))((t=>{const{isCollapsed:r,path:o,fileTree:n}=t;if(n&&n.tree){const t=o?(0,d.default)(n.tree,o):n.tree;if(!t||"file"!==t.type)return e(a).createElement(c.default,{isCollapsed:r})}return e(a).createElement(u.default,{isCollapsed:r,path:o})}));var f=({isCollapsed:t=!1})=>{const{path:r}=(0,s.useParams)();return r?e(a).createElement(p,{isCollapsed:t,path:(0,l.safeDecodePath)(r||"")}):e(a).createElement(c.default,{isCollapsed:t})}})),r.register("3KXkG",(function(e,o){t(e.exports,"default",(function(){return c}));var n=r("dGzLf"),a=r("aanBq"),i=r("jTcAB"),s=r("3yHh5"),l=r("jTfTF");var c=(0,n.connect)((e=>({...(0,a.getRepositoryDetails)(e),repository:(0,a.getCurrentRepository)(e),sizeLimits:(0,a.getSizeLimits)(e)})),(e=>({onOpenSyncDialog:()=>e((0,s.default)(!0)),onErrorClick:t=>e((0,i.default)(t))})))(l.default)})),r.register("foJbJ",(function(e,o){t(e.exports,"default",(function(){return i}));var n=r("dGzLf"),a=r("4NR6T");var i=(0,n.connect)((e=>{const{hash:t}=e.repository.source.section,{file:r,meta:o,isLoading:n}=e.repository.source.file,a=e.repository.source.srcDirMetadata;let i;if(t&&o){var s,l,c;const e=o.path.split("/"),r=e.slice(0,-1).join("/")||"/",n=e.slice(-1)[0],u=a[`${t}:${r}`];i=(null==u||null===(s=u.data)||void 0===s||null===(l=s[n])||void 0===l||null===(c=l.lastModified)||void 0===c?void 0:c.date)||null}return{file:r,meta:o,isLoading:n,lastUpdated:i}}))(a.default)})),r.register("4NR6T",(function(o,n){t(o.exports,"default",(function(){return h}));var a=r("9nHZC"),i=r("4cToo"),s=r("agjvf"),l=r("l8rpz"),c=r("c5NwI"),u=r("fMRrF"),d=r("lfQVc"),p=r("NdOAn");class f extends a.PureComponent{renderContent(){const{file:t,meta:r,isLoading:o,lastUpdated:n}=this.props;if(!r||o)return null;const u=r&&r.size?e(i)(r.size,{unitSeparator:" "}):null;let f="";if(r.path){const e=r.path.split("/").pop();e&&([f]=(0,d.default)(e))}return e(a).createElement(a.Fragment,null,n&&e(a).createElement(c.Row,null,e(a).createElement(c.Field,{label:e(a).createElement(s.FormattedMessage,p.default.lastUpdatedLabel),value:e(a).createElement(l.RelativeDate,{date:n})})),f&&e(a).createElement(c.Row,null,e(a).createElement(c.Field,{label:e(a).createElement(s.FormattedMessage,p.default.typeLabel),value:f})),e(a).createElement(c.Row,null,t&&e(a).createElement(c.Field,{label:e(a).createElement(s.FormattedMessage,p.default.lineCountLabel),value:t.contents.split("\n").length}),u&&e(a).createElement(c.Field,{label:e(a).createElement(s.FormattedMessage,p.default.sizeLabel),value:u})))}render(){const{intl:t,isCollapsed:r,isLoading:o,meta:n,path:i}=this.props,s=t.formatMessage(p.default.cardLabel),l=i?i.split("/").slice(0,-1).join("/"):null;return e(a).createElement(c.default,{isLoading:!n||o,label:s,isCollapsed:r},e(a).createElement(u.default,{path:l||"/"}),this.renderContent())}}f.defaultProps={isCollapsed:!1};var h=(0,s.injectIntl)(f)})),r.register("fMRrF",(function(e,o){t(e.exports,"default",(function(){return u}));var n=r("dGzLf"),a=r("3UXCH"),i=r("aanBq"),s=r("j9lyI"),l=r("d1bB5");const c={fetchSrcDirMetadata:s.default};var u=(0,n.connect)(((e,t)=>{const{path:r}=t,{srcDirMetadata:o,section:n}=e.repository.source,{hash:s}=n;return{hash:s,srcDirMetadata:s?o[`${s}:${r}`]:null,hasMetadata:!(0,a.shouldDisableDirectoryMetadata)(e),repository:(0,i.getCurrentRepository)(e)}}),c)(l.default)})),r.register("j9lyI",(function(e,o){t(e.exports,"default",(function(){return l}));var n=r("635SY"),a=r("k2cPS"),i=r("kWOUe");const s=(e,t={})=>fetch((0,a.default)(e)).then((e=>e.ok?e.json():Promise.reject())).then((e=>{const r={};return e.values.forEach((e=>{const t=e.path.split("/");r[t[t.length-1]]={size:e.size,lastModified:e.last_modified}})),e.next?s(e.next,{...t,...r}):{...t,...r}}));var l=(e,t,r)=>o=>{o({type:i.FetchSourceDirMetadata.REQUEST,payload:{ref:t,path:r}});const a=n.default.api.internal.sourceWithMetadata(e.full_name,t,r);s(a).then((e=>{o({type:i.FetchSourceDirMetadata.SUCCESS,payload:{ref:t,path:r,srcDirMetadata:e}})}),(()=>{o({type:i.FetchSourceDirMetadata.ERROR,error:!0})}))}})),r.register("d1bB5",(function(e,o){t(e.exports,"default",(function(){return a}));var n=r("9nHZC");class a extends n.PureComponent{componentDidMount(){this.fetchSrcDirMetadata()}componentDidUpdate(e){const{hash:t,path:r,repository:o}=this.props;t===e.hash&&r===e.path&&(!o||e.repository&&o.uuid===e.repository.uuid)||this.fetchSrcDirMetadata()}fetchSrcDirMetadata(){if(!this.props.hasMetadata)return;const{hash:e,srcDirMetadata:t,path:r,repository:o}=this.props;e&&r&&o&&(!t||!t.isLoading&&!t.data)&&this.props.fetchSrcDirMetadata(o,e,r||"/")}render(){return this.props.children||null}}})),r.register("lfQVc",(function(e,r){t(e.exports,"default",(function(){return i}));const o={abap:["ABAP"],ada:["Ada"],adb:["Ada"],ads:["Ada"],applescript:["AppleScript"],as:["ActionScript"],asax:["aspx-cs"],ascx:["aspx-cs"],ashx:["aspx-cs"],asm:["NASM"],asmx:["aspx-cs"],aspx:["aspx-cs"],asy:["Asymptote"],au3:["AutoIt"],aux:["TeX"],axd:["aspx-cs"],b:["Brainfuck"],bas:["VB.net"],bash:["Shell"],bat:["Batchfile"],befunge:["Befunge"],bf:["Brainfuck"],boo:["Boo"],c:["C"],"c++":["C++"],"c++-objdump":["C++Objdump"],cc:["C++"],ceylon:["Ceylon"],cfc:["Coldfusion HTML"],cfg:["INI"],cfm:["Coldfusion HTML"],cfml:["Coldfusion HTML"],cfs:["Coldfusion"],cl:["Common Lisp"],clj:["Clojure"],cls:["Apex"],cmake:["CMake"],cmd:["Batchfile"],coffee:["CoffeeScript"],cpp:["C++"],"cpp-objdump":["C++Objdump"],cs:["C#"],csh:["Tcsh"],css:["CSS"],cw:["Redcode"],cxx:["C++"],"cxx-objdump":["C++Objdump"],d:["D"],"d-objdump":["D Objdump"],def:["Modula-2"],di:["D"],diff:["Diff"],dylan:["Dylan"],e:["Euphoria"],ebuild:["Shell"],eclass:["Shell"],el:["Common Lisp"],erl:["Erlang"],"erl-sh":["Erlang"],evoque:["Evoque"],ex:["Elixir"],f:["Fortrain"],f90:["Fortrain"],fan:["Fantom"],feature:["Gherkin"],flx:["Felix"],flxh:["Felix"],frag:["GLSL"],g:["Antlr"],gemspec:["Ruby"],geo:["GLSL"],go:["Go"],h:["C"],"h++":["C++"],haml:["Haml"],hh:["C++"],hhi:["Hack"],hpp:["C++"],hrl:["Erlang"],hs:["Haskell"],htaccess:["ApacheConf"],htm:["HTML"],html:["HTML"],hx:["haXe"],hxx:["C++"],inc:["POVRay"],ini:["INI"],io:["Io"],j:["Objective-J"],java:["Java"],js:["JavaScript"],json:["JSON"],jsp:["Java Server Page"],kid:["Genshi"],ksh:["Shell"],las:["Lasso"],lasso:["Lasso"],lassoapp:["Lasso"],lgt:["Logtalk"],lhs:["Literate Haskell"],lisp:["Common Lisp"],ll:["LLVM"],ls:["LiveScript"],lua:["Lua"],ly:["LilyPond"],m:["Matlab","Objective-C","Octave"],mak:["Makefile"],man:["Groff"],mao:["Mako"],ml:["OCaml"],mli:["OCaml"],mll:["OCaml"],mly:["OCaml"],mo:["Modelica"],mod:["Modula-2"],moo:["MOOCode"],mu:["MuPAD"],mxml:["MXMLl"],myt:["Myghty"],nim:["Nimrod"],ns2:["Newspeak"],objdump:["objdump"],ooc:["Ooc"],pas:["Delphi"],patch:["Diff"],php:["PHP"],php3:["PHP"],php4:["PHP"],php5:["PHP"],phtml:["HTML+PHP"],pl:["Perl","Prolog"],plot:["Gnuplot"],plt:["Gnuplot"],pm:["Perl"],po:["Gettext catalog"],pot:["Gettext catalog"],pov:["POVRay"],pro:["Prolog"],prolog:["Prolog"],properties:["INI"],py:["Python"],pyd:["Cython"],pyi:["Cython"],pyw:["Python"],pyx:["Cython"],r:["REBOL"],r3:["REBOL"],rake:["Ruby"],rb:["Ruby"],rbw:["Ruby"],rbx:["Ruby"],rest:["reStructuredText"],rhtml:["RHTML"],rl:["Ragel"],rout:["RConsole"],rs:["Rust"],rss:["XML"],rst:["reStructuredText"],s:["GAS"],sass:["Sass"],sc:["Python"],scala:["Scala"],scm:["Scheme"],sh:["Shell"],"sh-session":["Shell session"],spt:["Cheetah"],sql:["SQL"],"sqlite3-console":["sqlite3con"],st:["Smalltalk"],tac:["Python"],tcl:["Tcl"],tcsh:["Tcsh"],tex:["TeX"],tgr:["Apex"],tmpl:["Cheetah"],toc:["TeX"],tpl:["Smarty"],ts:["TypeScript"],txt:["Text"],uc:["UnrealScript"],vala:["Vala"],vapi:["Vala"],vert:["GLSL"],vg:["VB.net"],vim:["VimL"],vimrc:["VimL"],weechatlog:["IRC logs"],wsdl:["XML"],xhtml:["HTML"],xml:["XML"],xsd:["XML"],xsl:["XSLT"],xslt:["XSLT"],xtend:["XTend"],yaml:["YAML"]},n={"apache.conf":["ApacheConf"],"apache2.conf":["ApacheConf"],autodelegate:["Myghty"],gnumakefile:["Makefile"],Makefile:["Makefile"],pytb:["Python"],Rakefile:["Ruby"],SConstruct:["Python"],SConscript:["Python"],"squid.conf":["SquidConf"]},a=e=>{const t=e.split(".");return t.length>1?t.pop():null};function i(e){const t=a(e),r=t?o[t]:void 0;return n[e]||r||[]}})),r.register("NdOAn",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({cardLabel:{id:"frontbucket.repository.source.sidebar.fileDetailsCard.label",defaultMessage:"File details"},lastUpdatedLabel:{id:"frontbucket.repository.source.file.details.lastUpdatedLabel",defaultMessage:"Last updated"},lineCountLabel:{id:"frontbucket.repository.source.file.details.lineCountLabel",defaultMessage:"Lines"},sizeLabel:{id:"frontbucket.repository.source.file.details.sizeLabel",defaultMessage:"Size"},typeLabel:{id:"frontbucket.repository.source.file.details.typeLabel",defaultMessage:"File type"}})})),r.register("5O2Cy",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({addRepositoryDescriptionLink:{id:"frontbucket.repository.source.addRepositoryDescriptionLink",defaultMessage:"add a description to your repository"},repositoryDescriptionPlaceholder:{id:"frontbucket.repository.source.repositoryDescriptionPlaceholder",defaultMessage:"Here's where you'll find this repository's source files. To give your users an idea of what they'll find here, {addRepositoryDescriptionLink}."},keyboardShortcutGroup:{id:"frontbucket.repository.source.keyboardShortcutGroup",defaultMessage:"Source browser"}})})),r.register("7kLuJ",(function(e,o){t(e.exports,"Page",(function(){return i})),t(e.exports,"RepositoryDescription",(function(){return s})),t(e.exports,"SelectorsHeader",(function(){return l}));var n=r("2xJU3"),a=r("aP6k3");const i=(0,n.default)("div",{target:"e1jzw51l0"})("margin-bottom:",3*(0,a.gridSize)(),"px;"),s=(0,n.default)("p",{target:"e1jzw51l1"})("margin-bottom:",3*(0,a.gridSize)(),"px;margin-top:",3*(0,a.gridSize)(),"px;"),l=(0,n.default)("div",{target:"e1jzw51l2"})("margin-bottom:",3*(0,a.gridSize)(),"px;")})),r.register("8AIxn",(function(e,o){t(e.exports,"default",(function(){return s}));var n=r("9nHZC"),a=r("635SY"),i=r("k2cPS");class s extends n.PureComponent{constructor(...e){super(...e),this.getInitialState=()=>({commits:[],hasError:!1,isLoading:!this.props.isReadyToFetch,nextUrl:null}),this.state=this.getInitialState(),this.fetchFileHistory=async(e={})=>{const t=e.reset?this.getInitialState():{};this.setState({...t,isLoading:!0});const r=this.state.nextUrl||a.default.api.v20.fileHistory(this.props.repositoryFullSlug,this.props.refOrHash,this.props.path,this.props.pageLen);try{const t=await fetch((0,i.default)(r));if(!t.ok)throw Error();const o=await t.json();this.setState((t=>({commits:[...e.reset?[]:t.commits,...o.values.map((e=>e.commit))],nextUrl:o.next,hasError:!1,isLoading:!1})))}catch(e){this.setState({hasError:!0,isLoading:!1})}},this.loadMore=()=>{this.fetchFileHistory()}}componentDidMount(){this.props.isReadyToFetch&&this.fetchFileHistory()}componentDidUpdate(e){const{path:t,refOrHash:r,repositoryFullSlug:o,isReadyToFetch:n}=this.props;t===e.path&&r===e.refOrHash&&o===e.repositoryFullSlug&&n===e.isReadyToFetch||this.fetchFileHistory({reset:!0})}render(){const{commits:e,hasError:t,isLoading:r,nextUrl:o}=this.state;return this.props.render({commits:e,hasMore:!!o,hasError:t,isLoading:r,loadMore:this.loadMore})}}s.defaultProps={isReadyToFetch:!0}})),r.register("lhTa8",(function(e,o){t(e.exports,"default",(function(){return s}));var n=r("dGzLf"),a=r("aanBq"),i=r("2NisH");var s=(0,n.connect)((e=>({atRef:e.repository.source.section.atRef,currentRef:e.repository.source.section.ref,hash:e.repository.source.section.hash,repository:(0,a.getCurrentRepository)(e)})))(i.default)})),r.register("2NisH",(function(o,n){t(o.exports,"default",(function(){return m}));var a=r("9nHZC"),i=r("agjvf"),s=r("5WD8l"),l=r("c83ir"),c=r("3hzea"),u=r("ilJwJ"),d=r("5PFIQ"),p=r("635SY"),f=r("6aoKW"),h=r("bTAL8");class g extends a.PureComponent{constructor(...t){super(...t),this.fileModeLabels={diff:e(a).createElement(i.FormattedMessage,h.default.diffMode),history:e(a).createElement(i.FormattedMessage,h.default.historyMode),source:e(a).createElement(i.FormattedMessage,h.default.sourceMode)},this.publishFileAnalyticEvent=(e,t,r)=>{(0,f.publishFact)(new(0,d.SourceFileActionClickedFact)({label:e,repository_uuid:t,frontbucket_view:!0})),(0,f.publishUiEvent)({source:"file",action:"clicked",actionSubject:"dropdown",actionSubjectId:"fileModeSelector",objectType:"repository",objectId:t,containerType:"workspace",containerId:r,attributes:{label:e,repository_uuid:t,frontbucket_view:!0}})}}render(){const{atRef:t,currentRef:r,hash:o,history:n,mode:i,path:u,repository:d}=this.props;if(!d||!o)return null;const f=t?t.name:void 0,h=r?r.name:void 0,g=f||h||void 0;return e(a).createElement(s.default,{shouldFitContainer:!0,trigger:this.fileModeLabels[i],triggerType:"button"},e(a).createElement(l.default,{isHidden:"source"===i,onClick:()=>{this.publishFileAnalyticEvent("source",(0,c.uncurlyUuid)(d.uuid),null!=d&&d.workspace?(0,c.uncurlyUuid)(d.workspace.uuid):""),n.push(p.default.ui.source(d.full_name,{refOrHash:o,path:u,at:g}))}},this.fileModeLabels.source),e(a).createElement(l.default,{isHidden:"diff"===i,onClick:()=>{this.publishFileAnalyticEvent("diff",(0,c.uncurlyUuid)(d.uuid),null!=d&&d.workspace?(0,c.uncurlyUuid)(d.workspace.uuid):"");const e={destination:o};n.push(p.default.ui.diff(d.full_name,u,e,{at:g}))}},this.fileModeLabels.diff),e(a).createElement(l.default,{isHidden:"history"===i,onClick:()=>{this.publishFileAnalyticEvent("history",(0,c.uncurlyUuid)(d.uuid),null!=d&&d.workspace?(0,c.uncurlyUuid)(d.workspace.uuid):""),n.push(p.default.ui.fileHistory(d.full_name,o,u,{at:g}))}},this.fileModeLabels.history))}}var m=(0,u.withRouter)(g)})),r.register("bTAL8",(function(e,o){t(e.exports,"default",(function(){return n}));var n=(0,r("agjvf").defineMessages)({diffMode:{id:"frontbucket.repository.source.fileModeSelector.diffMode",defaultMessage:"Diff"},historyMode:{id:"frontbucket.repository.source.fileModeSelector.historyMode",defaultMessage:"History"},sourceMode:{id:"frontbucket.repository.source.fileModeSelector.sourceMode",defaultMessage:"Source"}})})),r.register("j7Wlz",(function(e,o){t(e.exports,"HeaderContainer",(function(){return s}));var n=r("2xJU3"),a=r("aP6k3"),i=r("3UVNu");const s=(0,n.default)("div",{target:"e1fwoj8y0"})("align-items:center;display:flex;& > *{margin-right:",(0,a.gridSize)(),"px;}",i.media.upToMedium(`\n    flex-wrap: wrap;\n\n      & > * {\n        margin-bottom: ${(0,a.gridSize)()}px;\n      }\n  `),";")}))}();
//# sourceMappingURL=source-diff.46ecb6e1.js.map
